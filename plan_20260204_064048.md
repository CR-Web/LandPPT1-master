# 修复“未生成大纲”报错并确保正确跳转至 MappingPreview

## 问题根因
1. **过早返回空大纲**：`normalizeOutlineMaybe` 函数在检测到 `slides` 属性为数组时会立即返回，即使该数组为空。这会导致逻辑跳过其他可能包含有效大纲的字段（如 `content` 或 `file_generated_outline`）。
2. **候选来源不足**：当前的 `extractOutlineFromProjectData` 未包含 `slides_data` 等潜在的大纲来源。

## 修复步骤

### 1. 增强大纲解析函数 `normalizeOutlineMaybe`
修改 `template_selection.html` 和 `mapping_preview.html`：
- 只有当 `slides` 数组非空时才返回该对象。
- 确保递归解析 `content` 字段中的 JSON 字符串。

### 2. 扩展大纲来源 `extractOutlineFromProjectData`
- 增加对 `projectData.slides_data` 的支持。
- 确保检查所有可能的嵌套层次（`projectData.project`, `projectData.data` 等）。

### 3. 优化 `startMappingPreviewFlow`
- 确保在跳转前，正确解析出的有效大纲被存入 `sessionStorage`。

## 预期效果
- 用户选择模板后，系统能正确识别已生成的大纲（即使其存储格式较复杂）。
- 成功跳转至 MappingPreview 页面，不再出现“未生成大纲”的误报。
