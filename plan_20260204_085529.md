The error "Mapping preview initialization failed" occurs because the system fails to load a valid template configuration. Even though the URL contains `template_id=26`, the current frontend logic might accept a fetched template that lacks the necessary `style_config` (slot configuration) and then crash, instead of falling back to the project's default template.

I will modify the frontend logic to robustly validate the template fetched from the URL.

### Plan: Robust Template Loading in Mapping Preview

1.  **Modify `loadSelectedTemplate` in `mapping_preview.html`**:
    -   Add a validation step immediately after fetching the template via `template_id` from the URL.
    -   Use the existing `normalizeSlotConfig` function to check if the fetched template contains valid slots.
    -   If the URL template is invalid (missing `style_config` or empty slots):
        -   Log a warning to the console.
        -   Discard the invalid template (set `template = null`).
        -   Allow the code to proceed to the fallback logic (fetching the project's saved template).
    -   This ensures that a broken template ID in the URL doesn't block the page from loading if a valid project template exists.

2.  **Verification**:
    -   Review the code changes to ensure logical correctness.
    -   (Since I cannot interactively test the UI) Verify that the syntax is correct and the logic flow handles both success and failure cases for the URL fetch.

### Technical Details
-   **File**: `src/landppt/web/templates/mapping_preview.html`
-   **Function**: `loadSelectedTemplate`
-   **Logic**:
    ```javascript
    // Current
    template = data.template;

    // New
    const candidate = data.template;
    const validation = normalizeSlotConfig(candidate?.style_config?.slot_config);
    if (candidate && validation && validation.slots && validation.slots.length > 0) {
        template = candidate;
    } else {
        console.warn('URL template missing valid slots, falling back...');
    }
    ```
